#include <math.h>
#include <stdio.h>
#define MAX 3
#define E 0.001
void dump(float arr[MAX][MAX + 1]) {
    printf("__\t\t\t\t\t\t\t__\n");
    for (int i = 0; i < MAX; i++) {
        printf("|   ");
        for (int j = 0; j <= MAX; j++)
            printf("%s%7.3f     ", (j == MAX) ? "|    " : "", arr[i][j]);
        printf("|\n");
    }
    printf("--\t\t\t\t\t\t\t--\n");
}
int main() {
    float matrix[MAX][MAX + 1], x[MAX];
    printf("\nEnter the elements of augmented matrix:\n\n");
    for (int i = 0; i < MAX; i++) {
        printf(" Enter the entire row %d: ", i + 1);
        for (int j = 0; j <= MAX; j++)
            scanf("%f", &matrix[i][j]);
    }

    printf("\n\n Your matrix: \n");
    dump(matrix);

    for (int i = 0; i < MAX; i++) {
        x[i] = 0;
    }
    int err;
    float temp;

    do {
        err = 0;
        for (int i = 0; i < MAX; i++) {
            float sum = 0;
            for (int j = 0; j <= MAX; j++) {
                if (j != i) {
                    sum = sum + matrix[i][j] * x[j];
                }
            }
            temp = (matrix[i][MAX + 1] - sum) / matrix[i][i];
            if (fabs(x[i] - temp) > err) {
                err = fabs(x[i] - temp);
            }
            x[i] = temp;
            printf("\nY[%d]=\t%f", i + 1, x[i]);
        }
        printf("\n");
    } while (err >= E);
    return 0;
}